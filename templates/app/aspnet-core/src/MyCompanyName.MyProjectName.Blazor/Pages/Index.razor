@page "/"
@inject MyProfileService MyProfileService

<h1>Hello, world!</h1>

Welcome to your new app.

<h2>Current user name: @_userName</h2>

<button class="btn btn-primary" @onclick="GetUserNameAsync">Click me</button>

<SurveyPrompt Title="How is Blazor working for you?" />

@code
{
    private string _userName = "?";

    private async Task GetUserNameAsync()
    {
        _userName = await MyProfileService.GetUserNameAsync();
    }
}